= form_with url: conversations_path, 
  method: :post,
  "aria-label": t('.text_form_label'),
  data: { controller: "speech form",speech_voice_id_value: current_user.elevenlabs_voice_id, speech_api_key_value: current_user.elevenlabs_api_key, action: "speech:finished->form#submit" } do |f|
  .flex.flex-col.gap-4
    .flex.flex-col
      %label.text-sm.font-medium.text-gray-700{for: "speech_content"}
        = t('.own_text')
      = f.text_area :content,
        id: "speech_content",
        class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",
        rows: 3,
        placeholder: t('.enter_text'),
        required: true,
        "aria-label": t('.enter_text_aria'),
        "aria-required": "true",
        data: { speech_target: "text" }

    .flex.gap-4.items-end
      .flex-1
        %label.block.text-sm.font-medium.text-gray-700{for: "speech_category"}
          = t('.select_category')
        = f.select :category_id,
          Category.all.map { |c| [c.name, c.id] },{ selected: Category.find_by(name: 'General')&.id },{ id: "speech_category",class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm","aria-label": t('.select_category_aria') }

      = f.button class: "inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",
        "aria-label": t('.speak_button_aria'),
        data: { action: "click->speech#speak" } do
        = heroicon "speaker-wave", options: { class: "h-5 w-5 mr-2", "aria-hidden": "true" }
        = t('.speak') 