// qs@6.11.2 downloaded from https://ga.jspm.io/npm:qs@6.11.2/lib/index.js

import e from"./stringify.js";import{_ as r,a as t}from"../_/e71c21de.js";import"side-channel";var a={};var i=r;var o=Object.prototype.hasOwnProperty;var n=Array.isArray;var l={allowDots:false,allowPrototypes:false,allowSparse:false,arrayLimit:20,charset:"utf-8",charsetSentinel:false,comma:false,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:false,interpretNumericEntities:false,parameterLimit:1e3,parseArrays:true,plainObjects:false,strictNullHandling:false};var interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,(function(e,r){return String.fromCharCode(parseInt(r,10))}))};var parseArrayValue=function(e,r){return e&&"string"===typeof e&&r.comma&&e.indexOf(",")>-1?e.split(","):e};var s="utf8=%26%2310003%3B";var c="utf8=%E2%9C%93";var p=function parseQueryStringValues(e,r){var t={__proto__:null};var a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;var p=Infinity===r.parameterLimit?void 0:r.parameterLimit;var f=a.split(r.delimiter,p);var d=-1;var u;var m=r.charset;if(r.charsetSentinel)for(u=0;u<f.length;++u)if(0===f[u].indexOf("utf8=")){f[u]===c?m="utf-8":f[u]===s&&(m="iso-8859-1");d=u;u=f.length}for(u=0;u<f.length;++u)if(u!==d){var y=f[u];var v=y.indexOf("]=");var h=-1===v?y.indexOf("="):v+1;var g,b;if(-1===h){g=r.decoder(y,l.decoder,m,"key");b=r.strictNullHandling?null:""}else{g=r.decoder(y.slice(0,h),l.decoder,m,"key");b=i.maybeMap(parseArrayValue(y.slice(h+1),r),(function(e){return r.decoder(e,l.decoder,m,"value")}))}b&&r.interpretNumericEntities&&"iso-8859-1"===m&&(b=interpretNumericEntities(b));y.indexOf("[]=")>-1&&(b=n(b)?[b]:b);o.call(t,g)?t[g]=i.combine(t[g],b):t[g]=b}return t};var parseObject=function(e,r,t,a){var i=a?r:parseArrayValue(r,t);for(var o=e.length-1;o>=0;--o){var n;var l=e[o];if("[]"===l&&t.parseArrays)n=[].concat(i);else{n=t.plainObjects?Object.create(null):{};var s="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l;var c=parseInt(s,10);if(t.parseArrays||""!==s)if(!isNaN(c)&&l!==s&&String(c)===s&&c>=0&&t.parseArrays&&c<=t.arrayLimit){n=[];n[c]=i}else"__proto__"!==s&&(n[s]=i);else n={0:i}}i=n}return i};var f=function parseQueryStringKeys(e,r,t,a){if(e){var i=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;var n=/(\[[^[\]]*])/;var l=/(\[[^[\]]*])/g;var s=t.depth>0&&n.exec(i);var c=s?i.slice(0,s.index):i;var p=[];if(c){if(!t.plainObjects&&o.call(Object.prototype,c)&&!t.allowPrototypes)return;p.push(c)}var f=0;while(t.depth>0&&null!==(s=l.exec(i))&&f<t.depth){f+=1;if(!t.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!t.allowPrototypes)return;p.push(s[1])}s&&p.push("["+i.slice(s.index)+"]");return parseObject(p,r,t,a)}};var d=function normalizeParseOptions(e){if(!e)return l;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r="undefined"===typeof e.charset?l.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?l.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:l.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:l.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:l.arrayLimit,charset:r,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:l.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:l.comma,decoder:"function"===typeof e.decoder?e.decoder:l.decoder,delimiter:"string"===typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:l.delimiter,depth:"number"===typeof e.depth||false===e.depth?+e.depth:l.depth,ignoreQueryPrefix:true===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:l.parameterLimit,parseArrays:false!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:l.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:l.strictNullHandling}};a=function(e,r){var t=d(r);if(""===e||null===e||"undefined"===typeof e)return t.plainObjects?Object.create(null):{};var a="string"===typeof e?p(e,t):e;var o=t.plainObjects?Object.create(null):{};var n=Object.keys(a);for(var l=0;l<n.length;++l){var s=n[l];var c=f(s,a[s],t,"string"===typeof e);o=i.merge(o,c,t)}return true===t.allowSparse?o:i.compact(o)};var u=a;var m={};var y=e;var v=u;var h=t;m={formats:h,parse:v,stringify:y};var g=m;const b=m.formats,w=m.parse,O=m.stringify;export{g as default,b as formats,w as parse,O as stringify};

