// command-exists@1.2.9 downloaded from https://ga.jspm.io/npm:command-exists@1.2.9/index.js

import r from"child_process";import n from"fs";import t from"path";import e from"process";var a={};var c=e;var u=r.exec;var o=r.execSync;var f=n;var i=t;var s=f.access;var v=f.accessSync;var l=f.constants||f;var m="win32"==c.platform;var fileNotExists=function(r,n){s(r,l.F_OK,(function(r){n(!r)}))};var fileNotExistsSync=function(r){try{v(r,l.F_OK);return false}catch(r){return true}};var localExecutable=function(r,n){s(r,l.F_OK|l.X_OK,(function(r){n(null,!r)}))};var localExecutableSync=function(r){try{v(r,l.F_OK|l.X_OK);return true}catch(r){return false}};var commandExistsUnix=function(r,n,t){fileNotExists(r,(function(e){if(e)localExecutable(r,t);else var a=u("command -v "+n+" 2>/dev/null"+" && { echo >&1 "+n+"; exit 0; }",(function(r,n,e){t(null,!!n)}))}))};var commandExistsWindows=function(r,n,t){if(/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(r))var e=u("where "+n,(function(r){t(null,null===r)}));else t(null,false)};var commandExistsUnixSync=function(r,n){if(fileNotExistsSync(r))try{var t=o("command -v "+n+" 2>/dev/null"+" && { echo >&1 "+n+"; exit 0; }");return!!t}catch(r){return false}return localExecutableSync(r)};var commandExistsWindowsSync=function(r,n,t){if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(r))return false;try{var e=o("where "+n,{stdio:[]});return!!e}catch(r){return false}};var cleanInput=function(r){if(/[^A-Za-z0-9_\/:=-]/.test(r)){r="'"+r.replace(/'/g,"'\\''")+"'";r=r.replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'")}return r};m&&(cleanInput=function(r){var n=/[\\]/.test(r);if(n){var t='"'+i.dirname(r)+'"';var e='"'+i.basename(r)+'"';return t+":"+e}return'"'+r+'"'});a=function commandExists(r,n){var t=cleanInput(r);if(!n&&"undefined"!==typeof Promise)return new Promise((function(n,t){commandExists(r,(function(e,a){a?n(r):t(e)}))}));m?commandExistsWindows(r,t,n):commandExistsUnix(r,t,n)};a.sync=function(r){var n=cleanInput(r);return m?commandExistsWindowsSync(r,n):commandExistsUnixSync(r,n)};var p=a;const d=p.sync;export default p;export{d as sync};

